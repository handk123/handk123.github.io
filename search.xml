<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[2018年新的开始]]></title>
      <url>/2018/01/28/myfirst/</url>
      <content type="html"><![CDATA[<h2 id="新的征程"><a href="#新的征程" class="headerlink" title="新的征程"></a>新的征程</h2><p>&emsp;之前在很久的时候，就想过可以有写自己东西的一个地方，不管是笔记还是一些随笔，但是始终都没有发现过好一点的记录器，一次偶然的机会发现了可以自己搭建博客，所以花了大概前前后后4天，搭建好了，可以在这里边写一些技术上的还有一些生活上的琐事，也算是自己的一个小库吧。</p>
<h3 id="关于18年的计划"><a href="#关于18年的计划" class="headerlink" title="关于18年的计划"></a>关于18年的计划</h3><ul>
<li>数据库知识梳理</li>
<li>框架知识整理</li>
<li>动手写相关代码</li>
<li>坚持每天学习</li>
</ul>
<h3 id="关于本人"><a href="#关于本人" class="headerlink" title="关于本人"></a>关于本人</h3><p>&emsp;但行好事，不问前程</p>
]]></content>
      
        <categories>
            
            <category> 生活 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> 随笔 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Oracle中的sql函数]]></title>
      <url>/2018/01/28/dba-2/</url>
      <content type="html"><![CDATA[<h2 id="1-oracle中的sql相关"><a href="#1-oracle中的sql相关" class="headerlink" title="1.oracle中的sql相关"></a>1.oracle中的sql相关</h2><h3 id="emsp-1-oracle-中的数据类型"><a href="#emsp-1-oracle-中的数据类型" class="headerlink" title="&emsp;1)oracle 中的数据类型"></a>&emsp;1)oracle 中的数据类型</h3><pre><code>    字符型：
        char:1-2000字节的定长字符
        varchar2:1-4000字节的变长字符
    数值型：
        number:最高精度38位
    日期时间型：
        date:精确到ss
        timestamp:秒值精确到小数点后6位
    函数：
        sysdate,systimestamp返回系统的当前日期,时间和时区
    伪列：
        rowid,rownum
        rowid:表中行的存储地址，可唯一标示数据库中的某一行，可以使用该列快速定位表中的行。
        rownum:查询返回结果集中的行的序号，可以使用它来限制查询返回的行数
更改时间的显示：
    alter session set nls_date_language=’japanse’;
    alter session set nls_date_format=’yyyy-mm-dd’;
</code></pre><h3 id="emsp-2-sql支持的命令"><a href="#emsp-2-sql支持的命令" class="headerlink" title="&emsp;2)sql支持的命令"></a>&emsp;2)sql支持的命令</h3><pre><code>数据定义语言（DDL）:create,alter,drop
数据操纵语言（DML）:insert,delete,update,select
    利用现有的表创建表
    create table stu_tbl_log as select id,stu_name,stu_age from stu_tbl;--
    选择无重复的行
    select distinct stu_name from stu_tbl;--
    插入来自其他表中的记录
    insert into stu_tbl_log select id,stu_name,stu_age from stu_tbl;
数据控制语言（DCL）:grant,revoke
事务控制语言（TCL）:commit,savepoint,rollback
</code></pre><h3 id="emsp-3-操作表的命令"><a href="#emsp-3-操作表的命令" class="headerlink" title="&emsp;3)操作表的命令"></a>&emsp;3)操作表的命令</h3><pre><code>create table 创建
alter table    修改
truncate table    默认所有的表内容都删除,删除速度比delete快
drop table    用于删除表（表的结构、属性以及索引也会被删除）
</code></pre><h3 id="emsp-4-修改表命令"><a href="#emsp-4-修改表命令" class="headerlink" title="&emsp;4)修改表命令"></a>&emsp;4)修改表命令</h3><pre><code>alter table stu_table rename to stu_tbl;--修改表名
alter table stu_tbl rename column stu_sex to sex;--修改列名
alter table stu_tbl add (stu_age number);--添加新列
alter table stu_tbl drop(sex);--删除列
alter table stu_tbl modify(stu_sex varchar2(2));--更改列的数据类型
alter table stu_tbl add constraint pk_stu_tbl primary key(id);--添加约束
</code></pre><h3 id="emsp-5-操作符"><a href="#emsp-5-操作符" class="headerlink" title="&emsp;5)操作符"></a>&emsp;5)操作符</h3><pre><code>算术操作符:+-*/
比较操作符:=,!=,&lt;&gt;,&gt;,&lt;,&gt;=,&lt;=,between-and,in,like,is null等
逻辑操作符:Land,or,not
集合操作符:Lunion,union all,intersect,minus
    minus是获取第一张表独有的数据
    intersect是获取两张表中都有的数据
    union是整合两张表的数据，都有的只显示一次
    union all是纯粹的两张表数据整合
连接操作符: ||
</code></pre><h2 id="2-oracle中的数据库对象"><a href="#2-oracle中的数据库对象" class="headerlink" title="2.oracle中的数据库对象"></a>2.oracle中的数据库对象</h2><h3 id="emsp-1-锁：数据库用来控制共享资源并发访问的机制。"><a href="#emsp-1-锁：数据库用来控制共享资源并发访问的机制。" class="headerlink" title="&emsp;1)锁：数据库用来控制共享资源并发访问的机制。"></a>&emsp;1)锁：数据库用来控制共享资源并发访问的机制。</h3><pre><code>锁的类型：行级锁，表级锁
    行级锁：对正在被修改的行进行锁定。行级锁也被称之为排他锁。
在使用下列语句时，Oracle会自动应用行级锁：
    insert,update,delete,select…… for update
    select……for update允许用户一次锁定多条记录进行更新。
    使用commit or rollback释放锁。
表级锁：
    lock table user_tbl in mode mode;
表级锁类型：
    行共享 row share
    行排他 row exclusive
    共享 share
    共享行排他 share row exclusive
    排他 exclusive
死锁：两个或两个以上的事务相互等待对方释放资源，从而形成死锁
</code></pre><h3 id="emsp-2-数据库对象"><a href="#emsp-2-数据库对象" class="headerlink" title="&emsp;2)数据库对象"></a>&emsp;2)数据库对象</h3><pre><code>oracle数据库对象又称模式对象
数据库对象是逻辑结构的集合，最基本的数据库对象是表
数据库对象：
    表，序列，视图，索引
</code></pre>]]></content>
      
        <categories>
            
            <category> 数据库 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> oracle </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Oracle]]></title>
      <url>/2018/01/24/dba/</url>
      <content type="html"><![CDATA[<h2 id="一、基础部分："><a href="#一、基础部分：" class="headerlink" title="一、基础部分："></a>一、基础部分：</h2><h3 id="创建临时表空间-sys用户才可以创建表空间"><a href="#创建临时表空间-sys用户才可以创建表空间" class="headerlink" title="创建临时表空间 (sys用户才可以创建表空间)"></a>创建临时表空间 (sys用户才可以创建表空间)</h3><pre><code>create temporary tablespace 临时表空间名
   tempfile &apos;G:\app\ASUS\oradata\orcl\创建一个dbf后缀的文件&apos; (自己本机安装位置)
   size 10M
   autoextend on
   next 10M maxsize unlimited
   extent management local;
</code></pre><h3 id="创建表空间"><a href="#创建表空间" class="headerlink" title="创建表空间"></a>创建表空间</h3><pre><code>create tablespace 表空间名
    logging datafile &apos;G:\app\ASUS\oradata\orcl\创建一个dbf后缀的文件且与上方的文件名字不同&apos;
    size 10M
    autoextend on
    next 10M maxsize unlimited
    extent management local;
</code></pre><h3 id="创建用户并指定表空间"><a href="#创建用户并指定表空间" class="headerlink" title="创建用户并指定表空间"></a>创建用户并指定表空间</h3><pre><code>create user newuser identified by 表空间名
    account unlock
    default tablespace 表空间名;
</code></pre><h3 id="授权给新建的用户"><a href="#授权给新建的用户" class="headerlink" title="授权给新建的用户"></a>授权给新建的用户</h3><pre><code>grant connect,resource to newuser
grant dba to newuser;
</code></pre><h3 id="授权操作表的权限"><a href="#授权操作表的权限" class="headerlink" title="授权操作表的权限"></a>授权操作表的权限</h3><pre><code>grant select,insert on 表名 to scott; (当前用户)
grant delete,update on 用户名.表名 to scott; (系统管理员)
</code></pre><h2 id="二、Oracle数据库常用内置函数："><a href="#二、Oracle数据库常用内置函数：" class="headerlink" title="二、Oracle数据库常用内置函数："></a>二、Oracle数据库常用内置函数：</h2><h3 id="1-分类"><a href="#1-分类" class="headerlink" title="1.分类"></a>1.分类</h3><pre><code>1）单行函数
    a.字符函数
    b.数字函数
    c.转换函数
    d.日期函数
2）聚合函数
</code></pre><h3 id="2-详细介绍"><a href="#2-详细介绍" class="headerlink" title="2.详细介绍"></a>2.详细介绍</h3><h4 id="emsp-1-单行函数-就是说我们在进行表的操作上时，只能够输入一行，然后输出一个结果"><a href="#emsp-1-单行函数-就是说我们在进行表的操作上时，只能够输入一行，然后输出一个结果" class="headerlink" title="&emsp;1)单行函数:就是说我们在进行表的操作上时，只能够输入一行，然后输出一个结果"></a>&emsp;1)单行函数:就是说我们在进行表的操作上时，只能够输入一行，然后输出一个结果</h4><h5 id="emsp-emsp-a-字符函数：操作的对象是字符串"><a href="#emsp-emsp-a-字符函数：操作的对象是字符串" class="headerlink" title="&emsp;&emsp;a.字符函数：操作的对象是字符串"></a>&emsp;&emsp;a.字符函数：操作的对象是字符串</h5><pre><code>常用的有：
    ascii(X): 返回字符X的ASCII码
    chr(X):    将ascii值转换为对应的字符
    concat(X,Y): 连接字符串X,y
    lower(X): 将字符串X转换成小写
    upper(X): 将字符串X中所有的字符转换为大写
    initcap(X): 将字符串X中所有的内容，首写字母大写,其余字母小写
    例：select ascii(&apos;A&apos;),chr(&apos;65&apos;),concat(&apos;ha&apos;,&apos;ppy&apos;),lower(&apos;Ha&apos;),upper(&apos;ha&apos;),initcap(&apos;HeN word&apos;) from dual;
        结果：65    A    happy     ha    HA    Hen Word

    instr(a1,a2,x,y): 取子串a2在a1中的位置
        x表示在a1中开始搜索的位置,y表示字符串a2出现的次数
        如果x表示负数，就说明从尾部开始的搜索,一般x,y默认为1
    例：select instr(&apos;aaahellohello&apos;,&apos;he&apos;,1,1),instr(&apos;aaahellohello&apos;,&apos;he&apos;,1,2),instr(&apos;aaahellohello&apos;,&apos;he&apos;,-1,1) from dual;
        结果：4        9        9
    substr(a1,x,y):    在字符串a1中,从x开始,长度为y的子串
        x&gt;0,从头开始搜索
        x&lt;0,从尾部开始搜索
    select substr(&apos;12345678&apos;,-2,2),substr(&apos;123456&apos;,3,2) from dual;
        结果：78 34
    ltrim(a1,set): 从a1左边开始,除了set中的字符,全部打印出来(若set中的字符在a1中间,则将a1全部打印出来)
    rtrim(a1,set):    从a1右边开始,只要遇见不是set中的字符,马上结束并返回结果(若set中的字符在a1中间,则将a1全部打印出来)
    trim(c from a2): 只能从a2的头部,尾部,或者两端截去字符c(c只能是一个字符)
    replace(a1,a2,a3): 将a1字符串中的子串a2用a3代替.
        若a2为null,则返回原来a1;若a3为null,则会去掉子串a2,重新打印出a1
        select replace(&apos;aa-bb&apos;,&apos;bb&apos;,&apos;c&apos;),
            replace(&apos;aa-bb&apos;,&apos;bb&apos;),
            replace(&apos;aa-bb&apos;,&apos;c&apos;)
        from dual;
        结果：aa-c  aa- aa-bb
</code></pre><h5 id="emsp-emsp-b-数字函数：参数可以是表中的-也可以是一个数字表达式"><a href="#emsp-emsp-b-数字函数：参数可以是表中的-也可以是一个数字表达式" class="headerlink" title="&emsp;&emsp;b.数字函数：参数可以是表中的,也可以是一个数字表达式"></a>&emsp;&emsp;b.数字函数：参数可以是表中的,也可以是一个数字表达式</h5><pre><code>常用的有：
    ans(x):返回数字x的绝对值    abs(-2.5) 2.5
    ceil(x):返回值&gt;=n的最小整数        ceil(-2.5) -2; ceil(2.5) 3
    floor(x):返回值&lt;=数字n的最大整数    floor(123.3) 123; floor(-123.3) -124
    round(x,[a]):四舍五入到整数位. a&lt;0,到小数点前a位;a&gt;0,到小数点后a位 round(155.34567,-2) 200;round(155.34567,2) 155.35
    trunc(x,[a]):不四舍五入,根据a来截取x中的数字. a&lt;0,截取到小数点前a位;a&gt;0,到小数点后a位 (155.34567,-2) 100;(155.34567,2) 155.34
    mod(a,b)：返回a/b的余数,如果数字b=0,那么返回a mod(3,4) 3
</code></pre><h5 id="emsp-emsp-c-日期函数-对日期进行运算"><a href="#emsp-emsp-c-日期函数-对日期进行运算" class="headerlink" title="&emsp;&emsp;c.日期函数:对日期进行运算"></a>&emsp;&emsp;c.日期函数:对日期进行运算</h5><pre><code>常用的有：
    add_months(a,b):在日期a上,加上指定月数b,返回计算后的新日期
        select sysdate,add_months(sysdate,3) from dual; 1月24  4月24
    last_day(a)：返回指定日期当月的最后一天
        select sysdate,last_day(sysdate) from dual; 1月31
    round(a,[,fmt]):a是日期,fmt是四舍五入日期的值的格式.默认fmt是一个月中的某一天：&quot;DDD&quot;
        1)fmt默认为&quot;DDD&quot;,当前日期最靠近的那一天,根据日期分前半天,后半天
        2)如果fmt是&quot;DAY&quot;,会舍入到最近周的周日,就会将上半周舍去,下半周为下一周的周日
        3)如果fmt是&quot;MONTH&quot;,会舍入到某个月的1号,会将前月舍去,后半月作为下一个月
        4)如果fmt是&quot;YEAR&quot;,会舍入到某一年的1月1号,会将前半年舍去,后半年作为下一年
        select sysdate,
            round(sysdate),round(sysdate,&apos;DAY&apos;),round(sysdate,&apos;MONTH&apos;),round(sysdate,&apos;year&apos;)
            from dual;
        2018/1/24 星期三 19:07:59    2018/1/25 星期四    2018/1/28 星期日    2018/2/1 星期四    2018/1/1 星期一

    trync(d,[,fmt])：不对日期进行四舍五入,直接截取到第一天(上述不同格式)
    extract(fmt from d):用于提取日期中的特定部分
        select sysdate,extract(MONTH from sysdate) from dual;
            2018/1/24 星期三 19:23:29    1
</code></pre><h5 id="emsp-emsp-d-转换函数：一种数据类型转换为另外一种数据类型"><a href="#emsp-emsp-d-转换函数：一种数据类型转换为另外一种数据类型" class="headerlink" title="&emsp;&emsp;d.转换函数：一种数据类型转换为另外一种数据类型"></a>&emsp;&emsp;d.转换函数：一种数据类型转换为另外一种数据类型</h5><pre><code>常用的有：
    to_char():把日期和数字转换为制定格式的字符串.
    select to_char(sysdate,&apos;yyyy-mm-dd hh12:mi:ss&apos;) from dual;
    2018-01-24 07:40:56
</code></pre><h2 id="三、其他单行函数"><a href="#三、其他单行函数" class="headerlink" title="三、其他单行函数"></a>三、其他单行函数</h2><pre><code>1. nvl(a,b): 当a=null时,返回value,否则返回a
2. nvl2(a,b,c): 当a=null时,返回c,否则返回b
3. nullif(a,b): 当a=b时,返回null,否则返回a
</code></pre><h2 id="四、分组函数"><a href="#四、分组函数" class="headerlink" title="四、分组函数"></a>四、分组函数</h2><pre><code>avg()
min()
max()
sum()
count()
group by()
having()
</code></pre>]]></content>
      
        <categories>
            
            <category> 数据库 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> oracle </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
